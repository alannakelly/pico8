pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
--------------------------------
-- a demonstration of drawing --
-- a hex grid with a 2d array --
-- and sprites.               --
--------------------------------
-- copyright (c) 2019         --
-- alanna kelly               --
-- all rights reserverd.      --
-- this file is part of       --
-- "pico-8 examples" which is --
-- released under the terms of--
-- the mit licence.           -- 
--------------------------------

-- this function creates a hex
-- grid in a 2d array indexed
-- from 1
function create_hex_grid(w,h)
		local grid = {}
  for r=1,h do
    grid[r]={}
    for c=1,w do
      grid[r][c] = 1+((c%4)*2)
    end
  end 
  return grid
end

-- this function draws the hex
-- grid.
function draw_grid(grid,x,y)
		-- loop throe the grid
		-- use grid-1 because array
		-- is indexed from 1.
  for row=0,#grid-1 do
    for col=0,#grid[row+1]-1 do
      xp=x + col*16
      -- if an even row is being
      -- draw, -8 from xp to make
      -- hex tiles interlace
      -- properly
      if r%2 != 0 then
	       spr(grid[r+1][c+1],xp,y,2,2)
	     else
	       spr(grid[r+1][c+1],xp-8,y,2,2)
	     end
    end
    -- y changes at + 3/4 of a
    -- 16 pixel high tile. 
    -- 0.75 * 16 = 12
    y += 12
  end
end

function _init()
  hex_grid = create_hex_grid(5,5)
end

function _update()
end

function _draw()
  cls()
  draw_grid(hex_grid,20,20)
end
__gfx__
00000000000000011000000000000002200000000000000440000000000000025000000000000000000000000000000000000000000000000000000000000000
00000000000001cccc10000000000288882000000000049999400000000005252520000000000000000000000000000000000000000000000000000000000000
007007000001cccccccc100000028888888820000004999999994000000252525252500000000000000000000000000000000000000000000000000000000000
0007700001cccccccccccc1002888888888888200499999999999940052525252525252000000000000000000000000000000000000000000000000000000000
000770001cccccccccccccc1288888888888888249999999999999942ee2525252525ee200000000000000000000000000000000000000000000000000000000
007007001cccccccccccccc128888888888888824999999999999994e22ee525252eeee200000000000000000000000000000000000000000000000000000000
000000001cccccccccccccc1288888888888888249999999999999942ee22ee25eeeeee200000000000000000000000000000000000000000000000000000000
000000001cccccccccccccc128888888888888824999999999999994e22ee22eeeeeeee200000000000000000000000000000000000000000000000000000000
000000001cccccccccccccc1288888888888888249999999999999942ee22ee2eeeeeee200000000000000000000000000000000000000000000000000000000
000000001cccccccccccccc128888888888888824999999999999994e22ee22eeeeeeee200000000000000000000000000000000000000000000000000000000
000000001cccccccccccccc1288888888888888249999999999999942ee22ee2eeeeeee200000000000000000000000000000000000000000000000000000000
000000001cccccccccccccc128888888888888824999999999999994e22ee22eeeeeeee200000000000000000000000000000000000000000000000000000000
0000000001cccccccccccc10028888888888882004999999999999400ee22ee2eeeeee2000000000000000000000000000000000000000000000000000000000
000000000001cccccccc100000028888888820000004999999994000000ee22eeeee200000000000000000000000000000000000000000000000000000000000
00000000000001cccc1000000000028888200000000004999940000000000ee2ee20000000000000000000000000000000000000000000000000000000000000
0000000000000001100000000000000220000000000000044000000000000002e000000000000000000000000000000000000000000000000000000000000000
__map__
0102010201020102010200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1112110111121112111200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
